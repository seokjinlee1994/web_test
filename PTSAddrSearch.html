<html>
    <head>
    </head>
    <body>
        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <script>
            var getParam = function(key){
                var _parammap = {};
                document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g, function () {
                    function decode(s) {
                        return decodeURIComponent(s.split("+").join(" "));
                    }
 
                    _parammap[decode(arguments[1])] = decode(arguments[2]);
                });
                return _parammap[key];
            };
            new daum.Postcode({
                oncomplete: function(data) {
                    
                    alert("OS : " + getParam("os"));
                    
                    var address = "";
                    if(data.userSelectedType=="R"){
                        window.PTSAddrSearch.setAddress(data.zonecode, data.roadAddress, data.buildingName);
                        address = data.roadAddress;
                    } else {
                        window.PTSAddrSearch.setAddress(data.zonecode, data.jibunAddress, data.buildingName);
                        address = data.jibunAddress;
                    }
                    
                    var postData = {
                        address : address,
                        zoneCode : data.zoneCode,
                        buildingName : data.buildingName
                    };
                    window.postMessageToiOS(postData);
                }, 
                width : '100%',
                height : '100%'
            }).embed();
            
            function postMessageToiOS(postData) {
                window.webkit.messageHandlers.callbackHandler.postMessage(postData);
            }
        </script>
    </body>
</html>
